<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML+RDFa 1.1//EN"  "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"><!-- used by taprender.TAPExamples --><html version="XHTML+RDFa 1.1" xmlns="http://www.w3.org/1999/xhtml">  <head>    <title>Examples queries for HEASARC's TAP service</title>  </head>  <body class="container" vocab="ivo://ivoa.net/std/DALI-examples#">    <div id="body">      <a name="body"></a>      <h1>Examples for the TAP service at HEASARC</h1>      <div id="exampleslist">         <div typeof="example" id="QueryContainsPointCircle" resource="#QueryContainsPointCircle">          <h2 property="name">Simple geometric query on rosmaster with circle and point</h2>          <p>            The Table Access Protocol Service at HEASARC allow for simple          geometric queries.  For example, this query searches for observations in the rostmaster          catalog within a circle of radius 1 degree of the          coordinates (ra,dec)=(50,-85) -- i.e., basically a cone          search -- and an exposure longer than 10000 seconds:            </p>          <pre property="query">            SELECT * FROM rosmaster                      WHERE exposure > 10000 and                            1=CONTAINS(POINT('ICRS', ra, dec),CIRCLE('ICRS', 50, -85, 1))          </pre>        </div>         <div typeof="example" id="CrossMatch" resource="#CrossMatch">          <h2 property="name">Simple geometric query on rosmaster with circle and point</h2>          <p>            The Table Access Protocol Service at HEASARC allow for simple          geometric and cross-match queries.  For example, this query searches for observations common to the rostmaster          catalog AND the chanmaster catalog with a minimum exposure of 10ks.          </p>          <pre property="query">	   SELECT * FROM rosmaster as ros	            INNER JOIN chanmaster as chan	                ON ros.name = chan.name	            WHERE ros.exposure > 10000 and chan.exposure > 10000	            ORDER by ros.exposure	             </pre>        </div>	<div typeof="example" id="QueryCirclesIntersect" resource="#QueryCirclesIntersect">          <h2 property="name">Simple geometric query on rosmaster with intersects, circle, point</h2>          <p>            The Table Access Protocol Service at HEASARC allow for simple          geometric queries.  For example, this (slow) query searches for observations in the rostmaster          catalog where a circle of radius 1 degree of the          coordinates (ra,dec)=(50,-85) intersects with a circle of 1          degree radius around the center of the pointing:            </p>          <pre property="query">            SELECT * FROM rosmaster                      WHERE 1=INTERSECTS(CIRCLE('ICRS', ra, dec,1),CIRCLE('ICRS', 50, -85, 1))          </pre>        </div>	        <div typeof="example" id="QueryPolygon" resource="#QueryPolygon">          <h2 property="name">Simple geometric query on rosmaster with polygon</h2>          <p>            The Table Access Protocol Service at HEASARC allow for simple          geometric queries.  For example, this query searches for observations in the rostmaster          catalog where a pointing lies with a user-defined polygon, in this case a triangle with	  vertices (-5,-5), (5,-5), and (0,5)):            </p>          <pre property="query">            SELECT * FROM rosmaster                      WHERE  exposure > 10000 AND                             1=CONTAINS(POINT('ICRS', ra, dec),POLYGON('ICRS', -5, -5, 5, -5, 0, 5))          </pre>        </div>		        <div typeof="example" id="QueryDistance" resource="#QueryDistance">          <h2 property="name">Simple geometric query on rosmaster, chanmaster with join on distance</h2>          <p>            The Table Access Protocol Service at HEASARC allow for simple          geometric queries.  For example, this query computes the distance between rostmaster observations	  and a given point, selecting those observations near it, and ordering the result by that distance:          </p>          <pre property="query">          SELECT DISTANCE(	      POINT('ICRS', ra, dec),              POINT('ICRS', 266.41683, -29.00781)) AS dist, *	  FROM rosmaster	  WHERE 1=CONTAINS(	      POINT('ICRS', ra, dec),	      CIRCLE('ICRS', 266.41683, -29.00781, 1))	  ORDER BY dist ASC          </pre>        </div>	
<a property="continuation" href="http://example.org/obscore-examples.html">ObsCore queries</a>
</div>    </div>  </body></html>
